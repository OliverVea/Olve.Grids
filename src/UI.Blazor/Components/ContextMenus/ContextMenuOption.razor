@using UI.Core
@inject ContextMenuService ContextMenuService

<ContextMenuItem Class="@TW(CursorPointer, Text(TextColor), Hover(Bg(Colors.Active.Panels.Most)))"
                 Px="@Px(2)"
                 @onclick="HandleOnClick">
    @ChildContent
</ContextMenuItem>

@code {
    [Parameter] public RenderFragment ChildContent { get; set; } = _ => { };
    [Parameter] public EventCallback OnClick { get; set; }
    [Parameter] public ColorString TextColor { get; set; } = Colors.Active.Text.More;

    private async Task HandleOnClick(MouseEventArgs e)
    {
        await OnClick.InvokeAsync();
        await ContextMenuService.HideAsync();
    }

}